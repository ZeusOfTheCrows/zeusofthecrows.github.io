<div class="breadcrumbs">
{% assign crumbs = page.url | remove:'/index.html' | split: '/' %}

<!-- weird newline positioning is to prevent spaces between words -->
<!-- {{- -}} is to trim whitespace -->
<a href="/">C‚Äè:</a><span>\</span>{{- -}}
<!-- loop through array of url fragments -->
{%- for crumb in crumbs offset: 1 -%}
	<!-- if final loop (current page/directory) -->
	{%- if forloop.last -%}
		<!-- if passed parameter == dir -->
		{%- if include.ending_type == "dir" -%}
			<!-- print "[dir]>dir /n" -->
			{{- page.title -}}>dir /n
		<!-- else if parameter == page -->
		{%- elsif include.ending_type == "page" -%}
			>type {{ page.title }}.txt
		<!-- fallback case, should never be called -->
		{%- else -%}
			<!-- same as page -->
			>type {{ page.title }}.txt
		{%- endif -%}

	<!-- i didn't write this i have no idea how it works -->
	{%- else -%}
		<a href="{%- assign crumb_limit = forloop.index | plus: 1 -%}
		         {%- for crumb in crumbs limit: crumb_limit -%}
		         {{- crumb | append: '/' | replace:'without-plugin/','without-plugins/' -}}
		         {%- endfor -%}">{{ crumb | replace:'-',' ' | remove:'.html' | capitalize }}</a><span>\</span>
	{%- endif -%}
{%- endfor -%}

</div>
<br />